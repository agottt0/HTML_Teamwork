<!DOCTYPE html>
<html lang="zh-CN">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>结算 - ASPHALT ALLEY</title>
        <link rel="stylesheet" href="../css/index.css">
</head>
<body>
    <nav class="navbar">
        <header>
            <img src="../images/Logo.jpeg" alt="ASPHALT ALLEY" class="logo">
            <div class="user-profile">
                <img src="../images/user-icon.png" alt="User" class="user-avatar">
                <span class="username">User</span>
            </div>
        </header>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="New.html">New Arrivals</a>
            <a href="Trending.html">Trending Now</a>
            <a href="All-Products.html">All Products</a>
            <a href="About.html" class="active">About Us</a>
        </div>
    </nav>

    <!-- Checkout -->
    <div class="checkout-container">
        <h2>结算</h2>
        <div id="checkoutItems" class="checkout-items"></div>
        <h3>总价: ¥<span id="totalPrice">0</span></h3>
        <button class="pay-btn">确认支付</button>
    </div>
    
    <footer>
        <p>Contact Us: E-Mail-2186510014@qq.com  Phone-18833691103</p>
        <p>© 2025 ASPHALT ALLEY All rights reserved</p>
    </footer>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const checkoutItems = JSON.parse(localStorage.getItem("cartItems")) || [];
            const checkoutContainer = document.getElementById("checkoutItems");
            const totalPriceEl = document.getElementById("totalPrice");
            let totalPrice = 0;

            if (checkoutItems.length === 0) {
                checkoutContainer.innerHTML = "<p>Your cart is empty.</p>";
            } else {
                checkoutItems.forEach(item => {
                    const itemEl = document.createElement("div");
                    itemEl.className = "checkout-item";
                    itemEl.innerHTML = `
                        <img src="${item.image}" width="50" height="50">
                        <div>${item.name} - ¥${item.price}</div>
                    `;
                    checkoutContainer.appendChild(itemEl);
                    totalPrice += item.price;
                });
                totalPriceEl.textContent = totalPrice;
            }
        });
    </script>
    <script src="../js/auth.js"></script>
</body>
</html>
